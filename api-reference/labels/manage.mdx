---
title: "Gerenciar Labels"
api: "POST /chat/labels"
description: "Gerenciar labels (etiquetas) associadas a um chat"
---

Atualiza as labels de organização e categorização de um chat específico, oferecendo três modos distintos de operação para máxima flexibilidade.

## Modos de Operação

<AccordionGroup>
  <Accordion title="Definir Todas as Labels" icon="tags">
    Define o conjunto completo de labels, substituindo todas as existentes.

    **Parâmetro:** `labelids` (array)

    **Comportamento:**
    - Remove todas as labels atuais do chat
    - Aplica apenas as labels fornecidas no array
    - Útil para redefinir completamente a categorização
    - Permite aplicar múltiplas labels de uma vez

    **Exemplo:** `["10", "20", "30"]` - Aplica labels 10, 20 e 30, removendo quaisquer outras.
  </Accordion>

  <Accordion title="Adicionar Label Individual" icon="plus">
    Adiciona uma única label sem afetar as existentes.

    **Parâmetro:** `add_labelid` (string)

    **Comportamento:**
    - Mantém todas as labels já aplicadas
    - Adiciona a nova label ao conjunto existente
    - Ideal para categorização incremental
    - Não causa erro se a label já existir

    **Exemplo:** `"10"` - Adiciona label 10 às labels existentes.
  </Accordion>

  <Accordion title="Remover Label Individual" icon="minus">
    Remove uma única label sem afetar as outras.

    **Parâmetro:** `remove_labelid` (string)

    **Comportamento:**
    - Mantém todas as outras labels aplicadas
    - Remove apenas a label especificada
    - Útil para ajustes pontuais de categorização
    - Não causa erro se a label não existir

    **Exemplo:** `"20"` - Remove apenas a label 20, mantendo as demais.
  </Accordion>

  <Accordion title="Validação e Regras" icon="circle-exclamation">
    Regras importantes para uso correto do endpoint.

    **Restrições:**
    - Use apenas UM dos três parâmetros por requisição
    - Labels devem existir previamente (use GET /labels para listar)
    - IDs de labels inválidos serão rejeitados
    - Formato dos IDs: string numérica (ex: "10", "20")

    **Importante:** Não combine `labelids`, `add_labelid` e `remove_labelid` na mesma requisição.
  </Accordion>
</AccordionGroup>

### Authorizations

<ParamField path="token" type="string" required>
  Token de autenticação de conexão com a API. <br />
  Exemplo: `zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk`
</ParamField>

### Body Parameters

<ParamField path="number" type="string" required>
  Número do chat ou ID do grupo. <br />
  Aceita formato internacional ou JID do WhatsApp. <br />
  Exemplo: `5511999999999` ou `120363123456789012@g.us`
</ParamField>

<ParamField path="labelids" type="array">
  Lista completa de IDs das labels a aplicar ao chat. <br />
  Substitui todas as labels existentes. <br />
  **Não combine com add_labelid ou remove_labelid.** <br />
  Exemplo: `["10", "20", "30"]`
</ParamField>

<ParamField path="add_labelid" type="string">
  ID da label a ser adicionada ao chat. <br />
  Mantém labels existentes e adiciona esta. <br />
  **Não combine com labelids ou remove_labelid.** <br />
  Exemplo: `"10"`
</ParamField>

<ParamField path="remove_labelid" type="string">
  ID da label a ser removida do chat. <br />
  Mantém outras labels e remove apenas esta. <br />
  **Não combine com labelids ou add_labelid.** <br />
  Exemplo: `"20"`
</ParamField>

<Warning>
  **Atenção:** Use apenas UM dos três parâmetros de labels por requisição: `labelids`, `add_labelid` OU `remove_labelid`.
</Warning>

<RequestExample>

```bash cURL
curl -X POST https://zapclass.com.br/api/chat/labels \
  -H "Content-Type: application/json" \
  -H "Token: zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk" \
  -d '{
    "number": "5511999999999",
    "labelids": ["10", "20", "30"]
  }'
```

```javascript JavaScript
const response = await fetch("https://zapclass.com.br/api/chat/labels", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Token: "zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk",
  },
  body: JSON.stringify({
    number: "5511999999999",
    labelids: ["10", "20", "30"]
  }),
});

const data = await response.json();
console.log("Labels atualizadas:", data.labels);
```

```php PHP
<?php
$ch = curl_init('https://zapclass.com.br/api/chat/labels');

$payload = [
    "number" => "5511999999999",
    "labelids" => ["10", "20", "30"]
];

curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Token: zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
$data = json_decode($response, true);

if ($data['success']) {
    echo "Labels aplicadas: " . implode(", ", $data['labels']);
} else {
    echo "Erro: " . $data['message'];
}
curl_close($ch);
?>
```

</RequestExample>

<ResponseExample>

```json 200
{
  "success": true,
  "message": "Labels updated successfully",
  "chat": {
    "number": "5511999999999",
    "labels": ["10", "20", "30"]
  }
}
```

```json 400
{
  "success": false,
  "message": "Use apenas um dos parâmetros: labelids, add_labelid ou remove_labelid"
}
```

```json 404
{
  "success": false,
  "message": "Chat não encontrado"
}
```

</ResponseExample>
