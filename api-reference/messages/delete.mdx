---
title: "Apagar Mensagem"
api: "POST /messages/delete"
description: "Apagar mensagem para todos os participantes da conversa"
---

Remove mensagens enviadas ou recebidas para todos os participantes, atualizando o banco de dados e disparando eventos de sincronização automática.

## Recursos de Exclusão

<AccordionGroup>
  <Accordion title="Tipos de Exclusão" icon="trash">
    A exclusão funciona em diferentes contextos de mensagens.

    **Onde usar:**
    - Conversas individuais (1:1)
    - Grupos (pequenos e grandes)
    - Listas de transmissão
    - Comunidades

    **Importante:** A mensagem é removida para todos os participantes da conversa.

  </Accordion>

  <Accordion title="Mensagens Suportadas" icon="message">
    É possível apagar diferentes tipos de mensagens.

    **Tipos aceitos:**
    - Mensagens de texto
    - Mensagens de mídia (imagem, vídeo, áudio)
    - Documentos e arquivos
    - Mensagens de localização
    - Contatos compartilhados
    - Mensagens com botões/listas

    Funciona tanto com mensagens enviadas quanto recebidas.

  </Accordion>

  <Accordion title="Sincronização e Eventos" icon="arrows-rotate">
    A exclusão dispara atualizações automáticas no sistema.

    **Comportamento:**
    - Atualiza status no banco para "Deleted"
    - Gera evento webhook "messages_update"
    - Dispara SSE em tempo real
    - Sincroniza com todos os dispositivos conectados

    Permite rastreamento completo da ação de exclusão.

  </Accordion>
</AccordionGroup>

### Authorization

<ParamField path="api_key" type="string" required>
  Chave de autenticação da sua conexão, utilizada no header Authorization como
  **Bearer** Token. <br />
  Você encontra sua API Key no botão **API** da sua conexão no painel ZapClass. <br />
  A chave sempre começa com o prefixo `zc_`. <br />
  Exemplo: `zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP`
</ParamField>

### Body Parameters

<ParamField path="id" type="string" required>
  ID da mensagem a ser apagada. <br />
  Exemplo: `5511999999999:1AB2C3DEFG4H56I78JKL9M`
</ParamField>

<Warning>
  **Atenção:** Mensagens apagadas não podem ser recuperadas. A exclusão é
  permanente para todos os participantes da conversa.
</Warning>

<RequestExample>

```bash cURL
curl -X POST https://zapclass.com.br/api/messages/delete \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP" \
  -d '{
    "id": "5511999999999:1AB2C3DEFG4H56I78JKL9M"
  }'
```

```javascript JavaScript
const response = await fetch("https://zapclass.com.br/api/messages/delete", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
  },
  body: JSON.stringify({
    id: "5511999999999:1AB2C3DEFG4H56I78JKL9M",
  }),
});
```

```php PHP
<?php
$ch = curl_init('https://zapclass.com.br/api/messages/delete');

$payload = [
    "id" => "5511999999999:1AB2C3DEFG4H56I78JKL9M"
];

curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

curl_exec($ch);
curl_close($ch);
?>
```

</RequestExample>

<ResponseExample>

```json 200
{
  "success": true
}
```

```json 400
{
  "success": false,
  "message": "Token de autenticação inválido"
}
```

</ResponseExample>
