---
title: "Enviar Enquete"
api: "POST /messages/menu"
description: "Criar enquete interativa para votação e coleta de opinião"
---

Enquetes permitem coletar feedback, realizar votações e pesquisas de opinião de forma interativa diretamente no WhatsApp. Os participantes podem votar em uma ou múltiplas opções.

## Como Funciona

O usuário visualiza a pergunta e as opções disponíveis, seleciona sua(s) escolha(s) e confirma o voto. O WhatsApp exibe o progresso da votação em tempo real.

## Características

<CardGroup cols={2}>
  <Card title="Votação Simples" icon="check">
    Uma opção por pessoa (padrão)
  </Card>
  <Card title="Votação Múltipla" icon="list-check">
    Permite selecionar várias opções
  </Card>
  <Card title="Resultados em Tempo Real" icon="chart-bar">
    Atualização automática dos votos
  </Card>
  <Card title="Até 12 Opções" icon="hashtag">
    Máximo de alternativas por enquete
  </Card>
</CardGroup>

### Authorization

<ParamField path="api_key" type="string" required>
  Chave de autenticação da sua conexão, utilizada no header Authorization como Bearer Token. <br />
  Você encontra sua API Key no botão **API** da sua conexão no painel ZapClass. <br />
  A chave sempre começa com o prefixo `zc_`. <br />
  Exemplo: `zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP`
</ParamField>

### Body Parameters

<ParamField path="number" type="string" required>
  Número do destinatário no formato internacional. <br />
  Deve incluir código do país DDI + DDD + número. <br />
  Exemplo: `5511999999999`
</ParamField>

<ParamField path="type" type="string" required>
  Tipo do menu interativo. <br />
  Valor fixo: `poll` <br />
  Exemplo: `poll`
</ParamField>

<ParamField path="text" type="string" required>
  Pergunta da enquete (título principal). <br />
  Exemplo: `Qual sua forma de pagamento preferida?`
</ParamField>

<ParamField path="choices" type="array" required>
  Lista com as opções de voto (máximo 12 opções). <br />
  Cada item é uma string simples com o texto da opção. <br />
  Exemplo: `["Cartão de Crédito", "Pix", "Boleto", "Dinheiro"]`
</ParamField>

<ParamField path="selectableCount" type="integer">
  Número máximo de opções que podem ser selecionadas por pessoa. <br />
  Padrão: `1` (votação única) <br />
  Use `0` para permitir seleção ilimitada ou especifique um número. <br />
  Exemplo: `3`
</ParamField>

<ParamField path="delay" type="integer">
  Atraso em milissegundos antes do envio. <br />
  Durante o atraso aparecerá "Digitando...". <br />
  Exemplo: `1000`
</ParamField>

<ParamField path="replyid" type="string">
  ID da mensagem para responder. <br />
  Exemplo: `3EB0538DA65A59F6D8A251`
</ParamField>

<ParamField path="mentions" type="string">
  Números para mencionar (separados por vírgula). <br />
  Exemplo: `5511999999999,5511888888888`
</ParamField>

<ParamField path="readchat" type="boolean">
  Marca conversa como lida após envio. <br />
  Exemplo: `true`
</ParamField>

<ParamField path="readmessages" type="boolean">
  Marca últimas mensagens recebidas como lidas. <br />
  Exemplo: `true`
</ParamField>

<ParamField path="track_source" type="string">
  Origem do rastreamento da mensagem. <br />
  Exemplo: `chatwoot`
</ParamField>

<ParamField path="track_id" type="string">
  ID para rastreamento da mensagem (aceita valores duplicados). <br />
  Exemplo: `msg_123456789`
</ParamField>

<RequestExample>

```bash cURL - Votação Simples
curl -X POST https://zapclass.com.br/api/messages/menu \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP" \
  -d '{
    "number": "5511999999999",
    "type": "poll",
    "text": "Qual sua forma de pagamento preferida?",
    "choices": [
      "Cartão de Crédito",
      "Pix",
      "Boleto Bancário",
      "Dinheiro"
    ],
    "selectableCount": 1
  }'
```

```bash cURL - Votação Múltipla
curl -X POST https://zapclass.com.br/api/messages/menu \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP" \
  -d '{
    "number": "5511999999999",
    "type": "poll",
    "text": "Quais recursos você mais usa? (escolha até 3)",
    "choices": [
      "Atendimento Automático",
      "Envio em Massa",
      "Relatórios e Estatísticas",
      "Integração com CRM",
      "Chatbot Inteligente",
      "Agendamento de Mensagens"
    ],
    "selectableCount": 3
  }'
```

```javascript JavaScript - Votação Simples
const response = await fetch("https://zapclass.com.br/api/messages/menu", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
  },
  body: JSON.stringify({
    number: "5511999999999",
    type: "poll",
    text: "Qual sua forma de pagamento preferida?",
    choices: [
      "Cartão de Crédito",
      "Pix",
      "Boleto Bancário",
      "Dinheiro"
    ],
    selectableCount: 1,
  }),
});
```

```javascript JavaScript - Votação Múltipla
const response = await fetch("https://zapclass.com.br/api/messages/menu", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
  },
  body: JSON.stringify({
    number: "5511999999999",
    type: "poll",
    text: "Quais recursos você mais usa? (escolha até 3)",
    choices: [
      "Atendimento Automático",
      "Envio em Massa",
      "Relatórios e Estatísticas",
      "Integração com CRM",
      "Chatbot Inteligente",
      "Agendamento de Mensagens"
    ],
    selectableCount: 3,
  }),
});
```

```php PHP - Votação Simples
<?php
$ch = curl_init('https://zapclass.com.br/api/messages/menu');

$payload = [
    "number" => "5511999999999",
    "type" => "poll",
    "text" => "Qual sua forma de pagamento preferida?",
    "choices" => [
        "Cartão de Crédito",
        "Pix",
        "Boleto Bancário",
        "Dinheiro"
    ],
    "selectableCount" => 1
];

curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
curl_close($ch);
?>
```

```php PHP - Votação Múltipla
<?php
$ch = curl_init('https://zapclass.com.br/api/messages/menu');

$payload = [
    "number" => "5511999999999",
    "type" => "poll",
    "text" => "Quais recursos você mais usa? (escolha até 3)",
    "choices" => [
        "Atendimento Automático",
        "Envio em Massa",
        "Relatórios e Estatísticas",
        "Integração com CRM",
        "Chatbot Inteligente",
        "Agendamento de Mensagens"
    ],
    "selectableCount" => 3
];

curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
curl_close($ch);
?>
```

</RequestExample>

<ResponseExample>

```json 200
{
  "success": true,
  "token": "550e8400-e29b-41d4-a716-446655440000"
}
```

```json 400
{
  "success": false,
  "message": "Requisição inválida"
}
```

</ResponseExample>
