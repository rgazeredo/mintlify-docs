---
title: "Controlar Campanha"
api: "POST /sender/edit"
description: "Pausar, retomar ou deletar campanha de envio em massa"
---

Permite controlar campanhas de envio em massa atrav√©s de diferentes a√ß√µes: pausar, retomar ou deletar. Ideal para gerenciar o ciclo de vida de campanhas ativas.

## Sobre Controle de Campanhas

<AccordionGroup>
  <Accordion title="A√ß√µes Dispon√≠veis" icon="sliders">
    Opera√ß√µes que podem ser executadas em campanhas.

    **üõë STOP - Pausar Campanha:**
    - Pausa uma campanha ativa ou agendada
    - Altera status para "paused"
    - Mensagens j√° enviadas n√£o s√£o afetadas
    - Mensagens pendentes s√£o suspensas
    - √ötil para interromper temporariamente

    **‚ñ∂Ô∏è CONTINUE - Retomar Campanha:**
    - Retoma uma campanha pausada
    - Altera status para "scheduled"
    - Continua do ponto onde parou
    - N√£o funciona em campanhas conclu√≠das ("done")
    - Delay entre mensagens √© preservado

    **üóëÔ∏è DELETE - Deletar Campanha:**
    - Remove completamente a campanha
    - Deleta apenas mensagens N√ÉO ENVIADAS
    - Mensagens j√° enviadas s√£o preservadas no hist√≥rico
    - Opera√ß√£o executada de forma ass√≠ncrona
    - Status muda para "deleting" durante processo
  </Accordion>

  <Accordion title="Status de Campanhas" icon="flag">
    Entenda os diferentes estados de uma campanha.

    **Ciclo de Vida:**
    1. **scheduled**: Agendada, aguardando envio
    2. **sending**: Enviando mensagens ativamente
    3. **paused**: Pausada pelo usu√°rio (pode retomar)
    4. **done**: Conclu√≠da (n√£o pode ser alterada)
    5. **deleting**: Sendo deletada (processo ass√≠ncrono)

    **Transi√ß√µes Permitidas:**
    - scheduled ‚Üí paused (stop)
    - paused ‚Üí scheduled (continue)
    - sending ‚Üí paused (stop)
    - paused ‚Üí deleting (delete)
    - scheduled ‚Üí deleting (delete)

    **Transi√ß√µes Bloqueadas:**
    - done ‚Üí * (campanha finalizada √© imut√°vel)
    - deleting ‚Üí * (aguardar conclus√£o)
  </Accordion>

  <Accordion title="Comportamento de Delete" icon="trash">
    Como funciona a exclus√£o de campanhas.

    **O que √© deletado:**
    - Registro da campanha
    - Mensagens com status "scheduled" (n√£o enviadas)
    - Configura√ß√µes e metadados da campanha
    - V√≠nculos e refer√™ncias

    **O que √© preservado:**
    - Mensagens j√° enviadas (hist√≥rico)
    - Logs de entrega
    - Estat√≠sticas de envio
    - Webhooks j√° disparados

    **Processo Ass√≠ncrono:**
    - Retorno imediato da API
    - Dele√ß√£o acontece em background
    - Status "deleting" durante processo
    - Campanha desaparece ap√≥s conclus√£o

    **Importante:**
    - Opera√ß√£o irrevers√≠vel
    - N√£o cancela mensagens em envio
    - Aguarde status "deleting" antes de recriar
  </Accordion>

  <Accordion title="Casos de Uso" icon="lightbulb">
    Situa√ß√µes pr√°ticas para controle de campanhas.

    **Pausar (stop):**
    - Erro detectado no conte√∫do
    - Necessidade de ajustar lista de destinat√°rios
    - Hor√°rio inadequado para envio
    - Mudan√ßa de estrat√©gia de comunica√ß√£o
    - Limite de envio atingido

    **Retomar (continue):**
    - Corre√ß√£o realizada
    - Hor√°rio adequado chegou
    - Aprova√ß√£o recebida para prosseguir
    - Sistema normalizado ap√≥s instabilidade

    **Deletar (delete):**
    - Campanha criada por engano
    - Dados incorretos detectados
    - Campanha duplicada
    - Mudan√ßa completa de estrat√©gia
    - Limpeza de campanhas antigas
  </Accordion>
</AccordionGroup>

### Authorizations

<ParamField path="token" type="string" required>
  Token de autentica√ß√£o de conex√£o com a API. <br />
  Exemplo: `zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk`
</ParamField>

### Body Parameters

<ParamField path="folder_id" type="string" required>
  Identificador √∫nico da campanha. <br />
  Obtido ao criar a campanha. <br />
  Exemplo: `"folder_123"`
</ParamField>

<ParamField path="action" type="string" required>
  A√ß√£o a ser executada. <br />
  **Valores aceitos:** <br />
  - `stop`: Pausar campanha <br />
  - `continue`: Retomar campanha <br />
  - `delete`: Deletar campanha <br />
  Exemplo: `"stop"`
</ParamField>

<Warning>
  **Aten√ß√£o:** A a√ß√£o `delete` √© irrevers√≠vel e executada de forma ass√≠ncrona. Mensagens j√° enviadas n√£o podem ser deletadas.
</Warning>

<RequestExample>

```bash cURL
curl -X POST https://zapclass.com.br/api/sender/edit \
  -H "Content-Type: application/json" \
  -H "Token: zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk" \
  -d '{
    "folder_id": "folder_123",
    "action": "stop"
  }'
```

```javascript JavaScript
const response = await fetch("https://zapclass.com.br/api/sender/edit", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Token: "zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk",
  },
  body: JSON.stringify({
    folder_id: "folder_123",
    action: "stop"
  }),
});

const data = await response.json();
if (data.success) {
  console.log("Campanha pausada:", data.message);
}
```

```php PHP
<?php
$ch = curl_init('https://zapclass.com.br/api/sender/edit');

$payload = [
    "folder_id" => "folder_123",
    "action" => "stop"
];

curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Token: zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
$data = json_decode($response, true);

if ($data['success']) {
    echo "Campanha pausada: {$data['message']}\n";
} else {
    echo "Erro: " . $data['message'];
}

curl_close($ch);
?>
```

</RequestExample>

<ResponseExample>

```json 200
{
  "success": true,
  "message": "Campaign paused successfully",
  "campaign": {
    "folder_id": "folder_123",
    "status": "paused",
    "action": "stop",
    "updatedAt": 1672531200000
  }
}
```

```json 400
{
  "success": false,
  "message": "Campo 'folder_id' √© obrigat√≥rio"
}
```

```json 404
{
  "success": false,
  "message": "Campanha n√£o encontrada"
}
```

</ResponseExample>
