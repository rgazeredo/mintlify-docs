---
title: "Criar Comunidade"
api: "POST /community/create"
description: "Criar uma nova comunidade no WhatsApp"
---

Cria uma nova comunidade do WhatsApp, que permite agrupar m√∫ltiplos grupos relacionados sob uma √∫nica administra√ß√£o centralizada.

## Estrutura de Comunidades

<AccordionGroup>
  <Accordion title="O que s√£o Comunidades" icon="users-rectangle">
    Entenda o conceito de Comunidades no WhatsApp.

    **Defini√ß√£o:**
    - Estrutura hier√°rquica para organizar grupos
    - Permite administra√ß√£o centralizada de m√∫ltiplos grupos
    - Cada comunidade tem um grupo de an√∫ncios principal
    - Grupos vinculados compartilham contexto comum
    - Facilita gest√£o em larga escala

    **Benef√≠cios:**
    - Organiza√ß√£o de grupos relacionados
    - Comunicados centralizados via grupo de an√∫ncios
    - Gerenciamento simplificado de m√∫ltiplos grupos
    - Identidade visual unificada
    - Controle administrativo centralizado

  </Accordion>

  <Accordion title="Cria√ß√£o e Configura√ß√£o" icon="plus">
    Como funciona a cria√ß√£o de uma comunidade.

    **Processo:**
    - Comunidade criada com nome escolhido
    - Criador torna-se administrador automaticamente
    - Grupo de an√∫ncios criado automaticamente
    - Grupos podem ser vinculados posteriormente
    - Use `/community/updategroups` para adicionar grupos

    **Grupo de An√∫ncios:**
    - Criado automaticamente com a comunidade
    - Canal de comunica√ß√£o oficial
    - Todos os membros dos grupos vinculados t√™m acesso
    - Ideal para avisos e informa√ß√µes importantes

  </Accordion>

  <Accordion title="Limita√ß√µes e Requisitos" icon="circle-info">
    Restri√ß√µes aplicadas √†s comunidades.

    **Limites do WhatsApp:**
    - N√∫mero m√°ximo de comunidades por conta
    - Limite de grupos por comunidade
    - Nome da comunidade tem limite de caracteres
    - Apenas o criador tem certos privil√©gios

    **Requisitos:**
    - Conex√£o v√°lida e ativa
    - Permiss√µes para criar comunidades
    - Nome n√£o pode estar vazio
    - Conta em bom estado no WhatsApp

  </Accordion>

  <Accordion title="Casos de Uso" icon="lightbulb">
    Situa√ß√µes ideais para usar comunidades.

    **Aplica√ß√µes:**
    - Organiza√ß√µes com m√∫ltiplos departamentos
    - Escolas com turmas diferentes
    - Condom√≠nios com blocos separados
    - Empresas com filiais regionais
    - Eventos com m√∫ltiplas √°reas
    - Comunidades locais e bairros
    - Grupos de interesse com subcategorias
    - Organiza√ß√µes sem fins lucrativos

  </Accordion>
</AccordionGroup>

### Authorization

<ParamField path="api_key" type="string" required>
  Chave de autentica√ß√£o da sua conex√£o, utilizada no header Authorization como
  **Bearer** Token. <br />
  Voc√™ encontra sua API Key no bot√£o **API** da sua conex√£o no painel ZapClass. <br />
  A chave sempre come√ßa com o prefixo `zc_`. <br />
  Exemplo: `zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP`
</ParamField>

### Body Parameters

<ParamField path="name" type="string" required>
  Nome da comunidade. <br />
  Identifica a comunidade para todos os membros. <br />
  Exemplo: `"Comunidade do Bairro"`
</ParamField>

<Info>
  **Pr√≥ximos passos:** Ap√≥s criar a comunidade, use o endpoint
  `/community/updategroups` para vincular grupos existentes ou criar novos
  grupos dentro da comunidade.
</Info>

<RequestExample>

```bash cURL - Criar comunidade
curl -X POST https://zapclass.com.br/api/communities/create \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP" \
  -d '{
    "name": "Comunidade do Bairro"
  }'
```

```bash cURL - Criar e capturar ID
RESPONSE=$(curl -s -X POST https://zapclass.com.br/api/communities/create \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP" \
  -d '{
    "name": "Minha Comunidade"
  }')

COMMUNITY_ID=$(echo $RESPONSE | jq -r '.community.id')
echo "ID da comunidade criada: $COMMUNITY_ID"
```

```javascript JavaScript - Criar comunidade
const response = await fetch("https://zapclass.com.br/api/communities/create", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
  },
  body: JSON.stringify({
    name: "Comunidade do Bairro",
  }),
});

const data = await response.json();
if (data.success) {
  console.log("Comunidade criada:", data.community.name);
  console.log("ID:", data.community.id);
  console.log("Grupo de an√∫ncios:", data.community.announcementGroup);
}
```

```javascript JavaScript - Criar com valida√ß√£o
async function createCommunity(name) {
  // Valida√ß√µes
  if (!name || name.trim().length === 0) {
    throw new Error("Nome da comunidade √© obrigat√≥rio");
  }

  if (name.length > 50) {
    throw new Error("Nome muito longo (m√°ximo 50 caracteres)");
  }

  console.log(`Criando comunidade: "${name}"...`);

  const response = await fetch("https://zapclass.com.br/api/communities/create", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
    },
    body: JSON.stringify({ name }),
  });

  const data = await response.json();

  if (!data.success) {
    throw new Error(data.message);
  }

  console.log("‚úì Comunidade criada com sucesso");
  console.log(`  ID: ${data.community.id}`);
  console.log(`  Nome: ${data.community.name}`);
  console.log(
    `  Grupo de an√∫ncios: ${data.community.announcementGroup || "Criado"}`
  );

  return data.community;
}

// Uso
try {
  const community = await createCommunity("Condom√≠nio Parque das Flores");
  console.log("\nComunidade:", community);
} catch (error) {
  console.error("Erro:", error.message);
}
```

```javascript JavaScript - Criar e configurar
async function createAndSetupCommunity(name, description) {
  // Cria a comunidade
  const createResponse = await fetch(
    "https://zapclass.com.br/api/communities/create",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({ name }),
    }
  );

  const community = await createResponse.json();

  if (!community.success) {
    throw new Error(community.message);
  }

  console.log("‚úì Comunidade criada");

  // Configura descri√ß√£o do grupo de an√∫ncios (se tiver o JID)
  if (community.community.announcementGroup) {
    try {
      await fetch("https://zapclass.com.br/api/groups/updateDescription", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
        },
        body: JSON.stringify({
          groupjid: community.community.announcementGroup,
          description: description,
        }),
      });

      console.log("‚úì Descri√ß√£o do grupo de an√∫ncios configurada");
    } catch (error) {
      console.warn("Falha ao configurar descri√ß√£o:", error.message);
    }
  }

  return community.community;
}

// Uso
const community = await createAndSetupCommunity(
  "Escola Municipal",
  "üìö Comunidade da Escola Municipal\n\nCanal oficial de comunica√ß√£o com pais e alunos."
);
```

```javascript JavaScript - Criar m√∫ltiplas comunidades
async function createMultipleCommunities(names) {
  const results = [];

  for (const name of names) {
    try {
      const response = await fetch(
        "https://zapclass.com.br/api/communities/create",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
          },
          body: JSON.stringify({ name }),
        }
      );

      const data = await response.json();

      results.push({
        name,
        success: data.success,
        community: data.success ? data.community : null,
        error: data.success ? null : data.message,
      });

      // Aguarda 2 segundos entre cria√ß√µes
      await new Promise((resolve) => setTimeout(resolve, 2000));
    } catch (error) {
      results.push({
        name,
        success: false,
        community: null,
        error: error.message,
      });
    }
  }

  return results;
}

// Uso - criar comunidades para cada filial
const branches = [
  "Empresa - Filial S√£o Paulo",
  "Empresa - Filial Rio de Janeiro",
  "Empresa - Filial Belo Horizonte",
];

const results = await createMultipleCommunities(branches);

console.log("=== RESULTADOS ===");
results.forEach((result) => {
  if (result.success) {
    console.log(`‚úì ${result.name}`);
    console.log(`  ID: ${result.community.id}`);
  } else {
    console.log(`‚úó ${result.name}`);
    console.log(`  Erro: ${result.error}`);
  }
});
```

```javascript JavaScript - Criar com estrutura completa
async function createCommunityWithStructure(config) {
  const { name, description, initialGroups } = config;

  console.log(`Criando comunidade: ${name}...`);

  // 1. Cria a comunidade
  const createResponse = await fetch(
    "https://zapclass.com.br/api/communities/create",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({ name }),
    }
  );

  const communityData = await createResponse.json();

  if (!communityData.success) {
    throw new Error(communityData.message);
  }

  const community = communityData.community;
  console.log("‚úì Comunidade criada:", community.id);

  // 2. Cria grupos iniciais (se fornecidos)
  const createdGroups = [];

  if (initialGroups && initialGroups.length > 0) {
    console.log(`\nCriando ${initialGroups.length} grupos...`);

    for (const groupConfig of initialGroups) {
      try {
        const groupResponse = await fetch(
          "https://zapclass.com.br/api/groups/create",
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Authorization:
                "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
            },
            body: JSON.stringify({
              name: groupConfig.name,
              participants: groupConfig.participants || [],
            }),
          }
        );

        const groupData = await groupResponse.json();

        if (groupData.success) {
          createdGroups.push(groupData.group);
          console.log(`  ‚úì Grupo criado: ${groupConfig.name}`);
        }

        await new Promise((resolve) => setTimeout(resolve, 1000));
      } catch (error) {
        console.warn(`  ‚úó Falha ao criar grupo: ${groupConfig.name}`);
      }
    }
  }

  console.log("\n‚úì Estrutura da comunidade criada com sucesso!");

  return {
    community,
    groups: createdGroups,
  };
}

// Uso
const structure = await createCommunityWithStructure({
  name: "Condom√≠nio Parque das Flores",
  description: "Comunidade oficial do condom√≠nio",
  initialGroups: [
    { name: "Bloco A", participants: ["5511999999999"] },
    { name: "Bloco B", participants: ["5511888888888"] },
    { name: "√Årea de Lazer", participants: [] },
  ],
});

console.log("\nComunidade ID:", structure.community.id);
console.log("Grupos criados:", structure.groups.length);
```

```php PHP - Criar comunidade
<?php
$ch = curl_init('https://zapclass.com.br/api/communities/create');

$payload = [
    "name" => "Comunidade do Bairro"
];

curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
$data = json_decode($response, true);

if ($data['success']) {
    echo "Comunidade criada: {$data['community']['name']}\n";
    echo "ID: {$data['community']['id']}\n";
} else {
    echo "Erro: " . $data['message'];
}

curl_close($ch);
?>
```

```php PHP - Criar com valida√ß√£o
<?php
function createCommunity($name) {
    // Valida√ß√µes
    if (empty(trim($name))) {
        throw new Exception("Nome da comunidade √© obrigat√≥rio");
    }

    if (strlen($name) > 50) {
        throw new Exception("Nome muito longo (m√°ximo 50 caracteres)");
    }

    echo "Criando comunidade: \"{$name}\"...\n";

    $ch = curl_init('https://zapclass.com.br/api/communities/create');

    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
        'name' => $name
    ]));
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'Content-Type: application/json',
        'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
    ]);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

    $response = curl_exec($ch);
    $data = json_decode($response, true);
    curl_close($ch);

    if (!$data['success']) {
        throw new Exception($data['message']);
    }

    echo "‚úì Comunidade criada com sucesso\n";
    echo "  ID: {$data['community']['id']}\n";
    echo "  Nome: {$data['community']['name']}\n";

    return $data['community'];
}

// Uso
try {
    $community = createCommunity("Condom√≠nio Parque das Flores");
    print_r($community);
} catch (Exception $e) {
    echo "Erro: " . $e->getMessage();
}
?>
```

```php PHP - Criar m√∫ltiplas comunidades
<?php
function createMultipleCommunities($names) {
    $results = [];

    foreach ($names as $name) {
        $ch = curl_init('https://zapclass.com.br/api/communities/create');

        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
            'name' => $name
        ]));
        curl_setopt($ch, CURLOPT_HTTPHEADER, [
            'Content-Type: application/json',
            'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
        ]);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

        $response = curl_exec($ch);
        $data = json_decode($response, true);
        curl_close($ch);

        $results[] = [
            'name' => $name,
            'success' => $data['success'],
            'community' => $data['success'] ? $data['community'] : null,
            'error' => $data['success'] ? null : $data['message']
        ];

        // Aguarda 2 segundos entre cria√ß√µes
        sleep(2);
    }

    return $results;
}

// Uso
$branches = [
    "Empresa - Filial S√£o Paulo",
    "Empresa - Filial Rio de Janeiro",
    "Empresa - Filial Belo Horizonte"
];

$results = createMultipleCommunities($branches);

echo "=== RESULTADOS ===\n\n";
foreach ($results as $result) {
    if ($result['success']) {
        echo "‚úì {$result['name']}\n";
        echo "  ID: {$result['community']['id']}\n\n";
    } else {
        echo "‚úó {$result['name']}\n";
        echo "  Erro: {$result['error']}\n\n";
    }
}
?>
```

```php PHP - Classe gerenciadora completa
<?php
class CommunityManager {
    private $token;
    private $baseUrl = 'https://zapclass.com.br/api';

    public function __construct($token) {
        $this->token = $token;
    }

    private function makeRequest($endpoint, $payload) {
        $ch = curl_init($this->baseUrl . $endpoint);

        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
        curl_setopt($ch, CURLOPT_HTTPHEADER, [
            'Content-Type: application/json',
            "Token: {$this->token}"
        ]);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

        $response = curl_exec($ch);
        curl_close($ch);

        return json_decode($response, true);
    }

    public function create($name) {
        if (empty(trim($name))) {
            throw new Exception("Nome √© obrigat√≥rio");
        }

        if (strlen($name) > 50) {
            throw new Exception("Nome muito longo");
        }

        $data = $this->makeRequest('/community/create', [
            'name' => $name
        ]);

        if (!$data['success']) {
            throw new Exception($data['message']);
        }

        return $data['community'];
    }

    public function createWithGroups($name, $groupNames) {
        // Cria a comunidade
        $community = $this->create($name);

        echo "‚úì Comunidade criada: {$community['id']}\n";

        // Cria grupos
        $groups = [];

        foreach ($groupNames as $groupName) {
            try {
                $groupData = $this->makeRequest('/groups/create', [
                    'name' => $groupName,
                    'participants' => []
                ]);

                if ($groupData['success']) {
                    $groups[] = $groupData['group'];
                    echo "  ‚úì Grupo criado: {$groupName}\n";
                }

                sleep(1);
            } catch (Exception $e) {
                echo "  ‚úó Falha ao criar grupo: {$groupName}\n";
            }
        }

        return [
            'community' => $community,
            'groups' => $groups
        ];
    }

    public function createMultiple($names, $delay = 2) {
        $results = [];

        foreach ($names as $name) {
            try {
                $community = $this->create($name);
                $results[$name] = [
                    'success' => true,
                    'community' => $community
                ];
            } catch (Exception $e) {
                $results[$name] = [
                    'success' => false,
                    'error' => $e->getMessage()
                ];
            }

            if ($delay > 0) {
                sleep($delay);
            }
        }

        return $results;
    }
}

// Uso
$manager = new CommunityManager('zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk');

try {
    // Criar comunidade simples
    $community = $manager->create("Minha Comunidade");
    echo "Comunidade criada: {$community['id']}\n\n";

    // Criar com grupos
    $structure = $manager->createWithGroups(
        "Condom√≠nio ABC",
        ["Bloco A", "Bloco B", "√Årea Comum"]
    );

    echo "\nComunidade: {$structure['community']['id']}\n";
    echo "Grupos criados: " . count($structure['groups']) . "\n";
} catch (Exception $e) {
    echo "Erro: " . $e->getMessage();
}
?>
```

</RequestExample>

<ResponseExample>

```json 200 - Comunidade criada
{
  "success": true,
  "message": "Community created successfully",
  "community": {
    "id": "120363308883996631@g.us",
    "name": "Comunidade do Bairro",
    "announcementGroup": "120363308883996632@g.us",
    "createdAt": 1672531200000
  }
}
```

```json 400 - Nome vazio
{
  "success": false,
  "message": "O nome da comunidade n√£o pode estar vazio"
}
```

```json 400 - Nome muito longo
{
  "success": false,
  "message": "O nome da comunidade excede o limite de caracteres permitido"
}
```

```json 401 - Token inv√°lido
{
  "success": false,
  "message": "Token de autentica√ß√£o inv√°lido ou expirado"
}
```

```json 403 - Sem permiss√£o
{
  "success": false,
  "message": "Sem permiss√£o para criar comunidades"
}
```

```json 429 - Limite atingido
{
  "success": false,
  "message": "Limite de cria√ß√£o de comunidades atingido. Tente novamente mais tarde"
}
```

```json 500 - Erro no servidor
{
  "success": false,
  "message": "Erro ao criar comunidade. Tente novamente"
}
```

</ResponseExample>
