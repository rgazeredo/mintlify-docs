---
title: "Resetar Link de Convite"
api: "POST /group/resetInviteCode"
description: "Revogar link de convite atual e gerar novo c√≥digo"
---

Gera um novo c√≥digo de convite para o grupo, revogando automaticamente o link anterior e impedindo novos acessos atrav√©s dele.

## Seguran√ßa do Link

<AccordionGroup>
  <Accordion title="Revoga√ß√£o de Acesso" icon="shield-halved">
    Como funciona a invalida√ß√£o do link anterior.

    **Processo de revoga√ß√£o:**
    - Link de convite antigo √© imediatamente invalidado
    - Novo c√≥digo √∫nico √© gerado automaticamente
    - Links compartilhados anteriormente param de funcionar
    - Pessoas que tentarem usar o link antigo recebem erro
    - Membros atuais do grupo n√£o s√£o afetados

    Essencial para controlar acesso ao grupo.

  </Accordion>

  <Accordion title="Gera√ß√£o do Novo Link" icon="rotate">
    Cria√ß√£o autom√°tica de novo c√≥digo de convite.

    **Caracter√≠sticas do novo link:**
    - C√≥digo completamente diferente do anterior
    - URL √∫nica no formato `https://chat.whatsapp.com/[c√≥digo]`
    - V√°lido imediatamente ap√≥s a gera√ß√£o
    - Pode ser compartilhado com seguran√ßa
    - Permanece ativo at√© pr√≥ximo reset

    O novo link √© retornado na resposta da API.

  </Accordion>

  <Accordion title="Permiss√µes Necess√°rias" icon="user-shield">
    Requisitos para resetar o c√≥digo de convite.

    **Voc√™ precisa ser:**
    - Membro ativo do grupo
    - Administrador do grupo
    - Conectado a uma inst√¢ncia v√°lida

    **Sem permiss√£o:**
    - Membros comuns n√£o podem resetar o link
    - Retorna erro 403 (Forbidden)
    - √â necess√°rio solicitar a um administrador

    Apenas admins protegem a seguran√ßa do grupo.

  </Accordion>

  <Accordion title="Casos de Uso" icon="lightbulb">
    Situa√ß√µes para resetar o c√≥digo de convite.

    **Quando resetar:**
    - Link foi compartilhado publicamente por engano
    - Suspeita de entrada indevida de pessoas
    - Mudan√ßa de pol√≠tica de entrada no grupo
    - Link vazou em redes sociais ou f√≥runs
    - Implementa√ß√£o de rota√ß√£o peri√≥dica de seguran√ßa
    - Ap√≥s remo√ß√£o de membros problem√°ticos
    - Controle de acesso em eventos tempor√°rios

    Pr√°tica recomendada para grupos privados.

  </Accordion>
</AccordionGroup>

### Authorization

<ParamField path="api_key" type="string" required>
  Chave de autentica√ß√£o da sua conex√£o, utilizada no header Authorization como
  Bearer Token. <br />
  Voc√™ encontra sua API Key no bot√£o **API** da sua conex√£o no painel ZapClass. <br />
  A chave sempre come√ßa com o prefixo `zc_`. <br />
  Exemplo: `zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP`
</ParamField>

### Body Parameters

<ParamField path="groupjid" type="string" required>
  Identificador √∫nico do grupo (JID). <br />
  Formato: `n√∫mero@g.us` <br />
  Exemplo: `120363308883996631@g.us`
</ParamField>

<Warning>
  **Aten√ß√£o de Seguran√ßa:** Ao resetar o c√≥digo, todos os links compartilhados
  anteriormente se tornam inv√°lidos. Certifique-se de comunicar o novo link
  apenas para pessoas autorizadas.
</Warning>

<RequestExample>

```bash cURL - Resetar c√≥digo
curl -X POST https://zapclass.com.br/api/group/resetInviteCode \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP" \
  -d '{
    "groupjid": "120363308883996631@g.us"
  }'
```

```bash cURL - Resetar e capturar novo link
RESPONSE=$(curl -s -X POST https://zapclass.com.br/api/group/resetInviteCode \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP" \
  -d '{
    "groupjid": "120363308883996631@g.us"
  }')

NEW_LINK=$(echo $RESPONSE | jq -r '.inviteLink')
echo "Novo link de convite: $NEW_LINK"
```

```javascript JavaScript - Resetar c√≥digo
const response = await fetch(
  "https://zapclass.com.br/api/group/resetInviteCode",
  {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
    },
    body: JSON.stringify({
      groupjid: "120363308883996631@g.us",
    }),
  }
);

const data = await response.json();
if (data.success) {
  console.log("C√≥digo resetado com sucesso!");
  console.log("Novo link:", data.inviteLink);
  console.log("Novo c√≥digo:", data.inviteCode);
}
```

```javascript JavaScript - Resetar com confirma√ß√£o
async function resetInviteCodeWithConfirmation(groupJid) {
  // Busca informa√ß√µes do grupo primeiro
  const infoResponse = await fetch("https://zapclass.com.br/api/group/info", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
    },
    body: JSON.stringify({
      groupjid: groupJid,
      getInviteLink: true,
    }),
  });

  const groupInfo = await infoResponse.json();

  if (!groupInfo.success) {
    throw new Error(groupInfo.message);
  }

  console.log(`Grupo: ${groupInfo.group.name}`);
  console.log(`Link atual: ${groupInfo.group.inviteLink}`);
  console.log("\n‚ö†Ô∏è  ATEN√á√ÉO: O link atual ser√° invalidado!");

  const confirm = true; // Em ambiente real, pedir confirma√ß√£o do usu√°rio
  if (!confirm) {
    console.log("Opera√ß√£o cancelada");
    return { cancelled: true };
  }

  // Reseta o c√≥digo
  const resetResponse = await fetch(
    "https://zapclass.com.br/api/group/resetInviteCode",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({ groupjid: groupJid }),
    }
  );

  const result = await resetResponse.json();

  if (result.success) {
    console.log("\n‚úì C√≥digo resetado com sucesso!");
    console.log(`Novo link: ${result.inviteLink}`);
    console.log("\n‚ö†Ô∏è  Compartilhe o novo link apenas com pessoas autorizadas");
  }

  return result;
}

// Uso
try {
  await resetInviteCodeWithConfirmation("120363308883996631@g.us");
} catch (error) {
  console.error("Erro:", error.message);
}
```

```javascript JavaScript - Reset autom√°tico peri√≥dico
async function schedulePeriodicReset(groupJid, intervalDays) {
  console.log(`Iniciando rota√ß√£o autom√°tica a cada ${intervalDays} dias`);

  const resetLink = async () => {
    try {
      const response = await fetch(
        "https://zapclass.com.br/api/group/resetInviteCode",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
          },
          body: JSON.stringify({ groupjid: groupJid }),
        }
      );

      const data = await response.json();

      if (data.success) {
        const timestamp = new Date().toLocaleString("pt-BR");
        console.log(`[${timestamp}] ‚úì Link resetado: ${data.inviteLink}`);

        // Aqui voc√™ poderia enviar notifica√ß√£o, salvar em banco, etc.
        return data.inviteLink;
      } else {
        console.error(
          `[${new Date().toLocaleString("pt-BR")}] ‚úó Erro: ${data.message}`
        );
      }
    } catch (error) {
      console.error(
        `[${new Date().toLocaleString("pt-BR")}] ‚úó Erro:`,
        error.message
      );
    }
  };

  // Reset inicial
  await resetLink();

  // Agenda resets peri√≥dicos
  const intervalMs = intervalDays * 24 * 60 * 60 * 1000;
  const intervalId = setInterval(resetLink, intervalMs);

  return {
    stop: () => clearInterval(intervalId),
  };
}

// Uso - resetar link a cada 7 dias
const scheduler = await schedulePeriodicReset("120363308883996631@g.us", 7);

// Para parar: scheduler.stop();
```

```javascript JavaScript - Reset de m√∫ltiplos grupos
async function resetMultipleGroupLinks(groupJids) {
  const results = [];

  for (const groupJid of groupJids) {
    try {
      const response = await fetch(
        "https://zapclass.com.br/api/group/resetInviteCode",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
          },
          body: JSON.stringify({ groupjid: groupJid }),
        }
      );

      const data = await response.json();

      results.push({
        groupJid,
        success: data.success,
        newLink: data.inviteLink || null,
        error: data.message || null,
      });

      // Aguarda 2 segundos entre cada opera√ß√£o
      await new Promise((resolve) => setTimeout(resolve, 2000));
    } catch (error) {
      results.push({
        groupJid,
        success: false,
        newLink: null,
        error: error.message,
      });
    }
  }

  return results;
}

// Uso
const groups = [
  "120363308883996631@g.us",
  "120363308883996632@g.us",
  "120363308883996633@g.us",
];

const results = await resetMultipleGroupLinks(groups);

console.log("=== RESULTADOS DO RESET ===");
results.forEach((result) => {
  if (result.success) {
    console.log(`\n‚úì ${result.groupJid}`);
    console.log(`  Novo link: ${result.newLink}`);
  } else {
    console.log(`\n‚úó ${result.groupJid}`);
    console.log(`  Erro: ${result.error}`);
  }
});
```

```javascript JavaScript - Reset com notifica√ß√£o
async function resetAndNotify(groupJid, adminNumbers) {
  // Reseta o c√≥digo
  const response = await fetch(
    "https://zapclass.com.br/api/group/resetInviteCode",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({ groupjid: groupJid }),
    }
  );

  const data = await response.json();

  if (!data.success) {
    throw new Error(data.message);
  }

  console.log("‚úì Link resetado com sucesso");

  // Notifica administradores sobre o novo link
  const message =
    `üîê *Link de Convite Atualizado*\n\n` +
    `O link de convite do grupo foi resetado por seguran√ßa.\n\n` +
    `*Novo link:*\n${data.inviteLink}\n\n` +
    `‚ö†Ô∏è O link anterior n√£o funciona mais.`;

  for (const adminNumber of adminNumbers) {
    try {
      await fetch("https://zapclass.com.br/api/send/text", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
        },
        body: JSON.stringify({
          number: adminNumber,
          message: message,
        }),
      });

      console.log(`  ‚úì Notifica√ß√£o enviada para ${adminNumber}`);

      // Aguarda 1 segundo entre envios
      await new Promise((resolve) => setTimeout(resolve, 1000));
    } catch (error) {
      console.error(`  ‚úó Falha ao notificar ${adminNumber}:`, error.message);
    }
  }

  return data;
}

// Uso
const admins = ["5511999999999", "5511888888888"];
await resetAndNotify("120363308883996631@g.us", admins);
```

```php PHP - Resetar c√≥digo
<?php
$ch = curl_init('https://zapclass.com.br/api/group/resetInviteCode');

$payload = [
    "groupjid" => "120363308883996631@g.us"
];

curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
$data = json_decode($response, true);

if ($data['success']) {
    echo "C√≥digo resetado com sucesso!\n";
    echo "Novo link: {$data['inviteLink']}\n";
    echo "Novo c√≥digo: {$data['inviteCode']}\n";
} else {
    echo "Erro: " . $data['message'];
}

curl_close($ch);
?>
```

```php PHP - Resetar com confirma√ß√£o
<?php
function resetInviteCodeWithConfirmation($groupJid) {
    // Busca informa√ß√µes atuais
    $ch = curl_init('https://zapclass.com.br/api/group/info');

    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
        'groupjid' => $groupJid,
        'getInviteLink' => true
    ]));
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'Content-Type: application/json',
        'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
    ]);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

    $response = curl_exec($ch);
    $groupInfo = json_decode($response, true);
    curl_close($ch);

    if (!$groupInfo['success']) {
        throw new Exception($groupInfo['message']);
    }

    echo "Grupo: {$groupInfo['group']['name']}\n";
    echo "Link atual: {$groupInfo['group']['inviteLink']}\n";
    echo "\n‚ö†Ô∏è  ATEN√á√ÉO: O link atual ser√° invalidado!\n\n";

    // Reseta o c√≥digo
    $ch = curl_init('https://zapclass.com.br/api/group/resetInviteCode');

    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
        'groupjid' => $groupJid
    ]));
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'Content-Type: application/json',
        'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
    ]);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

    $response = curl_exec($ch);
    $result = json_decode($response, true);
    curl_close($ch);

    if ($result['success']) {
        echo "‚úì C√≥digo resetado com sucesso!\n";
        echo "Novo link: {$result['inviteLink']}\n";
        echo "\n‚ö†Ô∏è  Compartilhe o novo link apenas com pessoas autorizadas\n";
    } else {
        echo "‚úó Erro ao resetar: {$result['message']}\n";
    }

    return $result;
}

// Uso
try {
    resetInviteCodeWithConfirmation("120363308883996631@g.us");
} catch (Exception $e) {
    echo "Erro: " . $e->getMessage();
}
?>
```

```php PHP - Resetar m√∫ltiplos grupos
<?php
function resetMultipleGroupLinks($groupJids) {
    $results = [];

    foreach ($groupJids as $groupJid) {
        $ch = curl_init('https://zapclass.com.br/api/group/resetInviteCode');

        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
            'groupjid' => $groupJid
        ]));
        curl_setopt($ch, CURLOPT_HTTPHEADER, [
            'Content-Type: application/json',
            'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
        ]);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

        $response = curl_exec($ch);
        $data = json_decode($response, true);
        curl_close($ch);

        $results[] = [
            'groupJid' => $groupJid,
            'success' => $data['success'],
            'newLink' => $data['inviteLink'] ?? null,
            'error' => $data['message'] ?? null
        ];

        // Aguarda 2 segundos entre opera√ß√µes
        sleep(2);
    }

    return $results;
}

// Uso
$groups = [
    "120363308883996631@g.us",
    "120363308883996632@g.us",
    "120363308883996633@g.us"
];

$results = resetMultipleGroupLinks($groups);

echo "=== RESULTADOS DO RESET ===\n\n";
foreach ($results as $result) {
    if ($result['success']) {
        echo "‚úì {$result['groupJid']}\n";
        echo "  Novo link: {$result['newLink']}\n\n";
    } else {
        echo "‚úó {$result['groupJid']}\n";
        echo "  Erro: {$result['error']}\n\n";
    }
}
?>
```

```php PHP - Classe gerenciadora completa
<?php
class GroupInviteManager {
    private $token;
    private $baseUrl = 'https://zapclass.com.br/api';

    public function __construct($token) {
        $this->token = $token;
    }

    private function makeRequest($endpoint, $payload) {
        $ch = curl_init($this->baseUrl . $endpoint);

        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
        curl_setopt($ch, CURLOPT_HTTPHEADER, [
            'Content-Type: application/json',
            "Token: {$this->token}"
        ]);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

        $response = curl_exec($ch);
        curl_close($ch);

        return json_decode($response, true);
    }

    public function getCurrentLink($groupJid) {
        $data = $this->makeRequest('/group/info', [
            'groupjid' => $groupJid,
            'getInviteLink' => true
        ]);

        if (!$data['success']) {
            throw new Exception($data['message']);
        }

        return $data['group']['inviteLink'] ?? null;
    }

    public function resetInviteCode($groupJid, $showConfirmation = true) {
        if ($showConfirmation) {
            $currentLink = $this->getCurrentLink($groupJid);
            echo "‚ö†Ô∏è  Link atual ser√° invalidado: {$currentLink}\n";
        }

        $data = $this->makeRequest('/group/resetInviteCode', [
            'groupjid' => $groupJid
        ]);

        if (!$data['success']) {
            throw new Exception($data['message']);
        }

        return [
            'newLink' => $data['inviteLink'],
            'newCode' => $data['inviteCode']
        ];
    }

    public function scheduleReset($groupJid, $daysInterval) {
        $lastReset = time();
        $intervalSeconds = $daysInterval * 24 * 60 * 60;

        echo "Agendamento criado: reset a cada {$daysInterval} dias\n";
        echo "Pr√≥ximo reset: " . date('d/m/Y H:i', $lastReset + $intervalSeconds) . "\n";

        // Em produ√ß√£o, usar cron job ou task scheduler
        return [
            'groupJid' => $groupJid,
            'interval' => $daysInterval,
            'nextReset' => $lastReset + $intervalSeconds
        ];
    }

    public function resetMultiple($groupJids, $delay = 2) {
        $results = [];

        foreach ($groupJids as $groupJid) {
            try {
                $result = $this->resetInviteCode($groupJid, false);
                $results[$groupJid] = [
                    'success' => true,
                    'newLink' => $result['newLink']
                ];
            } catch (Exception $e) {
                $results[$groupJid] = [
                    'success' => false,
                    'error' => $e->getMessage()
                ];
            }

            if ($delay > 0) {
                sleep($delay);
            }
        }

        return $results;
    }
}

// Uso
$manager = new GroupInviteManager('zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk');

try {
    // Resetar um grupo
    $result = $manager->resetInviteCode("120363308883996631@g.us");
    echo "Novo link: {$result['newLink']}\n\n";

    // Resetar m√∫ltiplos grupos
    $groups = [
        "120363308883996631@g.us",
        "120363308883996632@g.us"
    ];

    $results = $manager->resetMultiple($groups);

    echo "=== RESULTADOS ===\n";
    foreach ($results as $groupJid => $result) {
        if ($result['success']) {
            echo "‚úì {$groupJid}\n  {$result['newLink']}\n\n";
        } else {
            echo "‚úó {$groupJid}\n  {$result['error']}\n\n";
        }
    }

    // Agendar reset peri√≥dico
    $schedule = $manager->scheduleReset("120363308883996631@g.us", 7);
    print_r($schedule);
} catch (Exception $e) {
    echo "Erro: " . $e->getMessage();
}
?>
```

</RequestExample>

<ResponseExample>

```json 200 - C√≥digo resetado com sucesso
{
  "success": true,
  "message": "Invite code reset successfully",
  "inviteLink": "https://chat.whatsapp.com/XyZ9AbCdEfGhIjKlMnOp",
  "inviteCode": "XyZ9AbCdEfGhIjKlMnOp",
  "groupJid": "120363308883996631@g.us"
}
```

```json 400 - JID inv√°lido
{
  "success": false,
  "message": "Group JID inv√°lido ou mal formatado"
}
```

```json 403 - Sem permiss√£o de admin
{
  "success": false,
  "message": "Voc√™ precisa ser administrador do grupo para resetar o c√≥digo de convite"
}
```

```json 404 - Grupo n√£o encontrado
{
  "success": false,
  "message": "Grupo n√£o encontrado ou voc√™ n√£o √© membro"
}
```

```json 403 - N√£o √© membro
{
  "success": false,
  "message": "Voc√™ n√£o √© membro deste grupo"
}
```

```json 500 - Erro no servidor
{
  "success": false,
  "message": "Erro ao resetar c√≥digo de convite. Tente novamente"
}
```

```json 500 - Falha na conex√£o
{
  "success": false,
  "message": "Falha na conex√£o com o WhatsApp. Verifique sua inst√¢ncia"
}
```

</ResponseExample>
