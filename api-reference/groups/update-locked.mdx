---
title: "Bloquear Edi√ß√£o de Informa√ß√µes"
api: "POST /group/updateLocked"
description: "Controlar quem pode editar informa√ß√µes do grupo"
---

Define se apenas administradores podem modificar as informa√ß√µes do grupo (nome, descri√ß√£o, imagem e outras configura√ß√µes).

## Controle de Edi√ß√£o

<AccordionGroup>
  <Accordion title="Modo Bloqueado" icon="lock">
    Quando apenas administradores podem editar informa√ß√µes.

    **Configura√ß√£o `locked: true`:**
    - Apenas administradores editam informa√ß√µes do grupo
    - Membros comuns n√£o podem alterar nome
    - Descri√ß√£o protegida contra altera√ß√µes
    - Imagem do grupo s√≥ alterada por admins
    - Outras configura√ß√µes restritas
    - Mant√©m consist√™ncia e identidade do grupo

    Recomendado para grupos corporativos e oficiais.

  </Accordion>

  <Accordion title="Modo Desbloqueado" icon="lock-open">
    Quando qualquer participante pode editar informa√ß√µes.

    **Configura√ß√£o `locked: false`:**
    - Todos os membros podem editar informa√ß√µes
    - Permite personaliza√ß√£o colaborativa
    - Maior liberdade para participantes
    - √ötil para grupos informais
    - Pode resultar em mudan√ßas frequentes
    - Requer confian√ßa entre membros

    Adequado para grupos familiares e informais.

  </Accordion>

  <Accordion title="Escopo de Restri√ß√£o" icon="sliders">
    O que √© afetado pelo bloqueio de edi√ß√£o.

    **Afeta:**
    - Nome do grupo
    - Descri√ß√£o do grupo
    - Imagem de perfil do grupo
    - Outras configura√ß√µes de informa√ß√£o

    **N√£o afeta:**
    - Adi√ß√£o ou remo√ß√£o de participantes
    - Envio de mensagens
    - Outras permiss√µes de participa√ß√£o
    - Configura√ß√µes de an√∫ncio (announce)

    Cada permiss√£o √© controlada separadamente.

  </Accordion>

  <Accordion title="Casos de Uso" icon="lightbulb">
    Situa√ß√µes para usar cada modo de bloqueio.

    **Modo Bloqueado (`true`):**
    - Grupos corporativos e empresariais
    - Canais de comunica√ß√£o oficial
    - Grupos de suporte t√©cnico
    - Comunidades com identidade visual
    - Organiza√ß√µes com pol√≠ticas r√≠gidas
    - Grupos de not√≠cias e an√∫ncios

    **Modo Desbloqueado (`false`):**
    - Grupos familiares
    - Amigos e grupos sociais
    - Comunidades colaborativas
    - Projetos de c√≥digo aberto
    - Grupos de estudo
    - Times informais

  </Accordion>
</AccordionGroup>

### Authorization

<ParamField path="api_key" type="string" required>
  Chave de autentica√ß√£o da sua conex√£o, utilizada no header Authorization como
  Bearer Token. <br />
  Voc√™ encontra sua API Key no bot√£o **API** da sua conex√£o no painel ZapClass. <br />
  A chave sempre come√ßa com o prefixo `zc_`. <br />
  Exemplo: `zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP`
</ParamField>

### Body Parameters

<ParamField path="groupjid" type="string" required>
  Identificador √∫nico do grupo (JID). <br />
  Formato: `n√∫mero@g.us` <br />
  Exemplo: `120363308883996631@g.us`
</ParamField>

<ParamField path="locked" type="boolean" required>
  Controla quem pode editar informa√ß√µes. <br />
  `true`: Apenas administradores podem editar <br />
  `false`: Qualquer participante pode editar <br />
  Exemplo: `true`
</ParamField>

<Info>
  **Nota:** Esta configura√ß√£o √© tamb√©m conhecida como "restrict" em algumas
  implementa√ß√µes do WhatsApp. Ela protege as informa√ß√µes b√°sicas do grupo contra
  edi√ß√µes n√£o autorizadas.
</Info>

<RequestExample>

```bash cURL - Bloquear edi√ß√£o
curl -X POST https://zapclass.com.br/api/group/updateLocked \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP" \
  -d '{
    "groupjid": "120363308883996631@g.us",
    "locked": true
  }'
```

```bash cURL - Desbloquear edi√ß√£o
curl -X POST https://zapclass.com.br/api/group/updateLocked \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP" \
  -d '{
    "groupjid": "120363308883996631@g.us",
    "locked": false
  }'
```

```javascript JavaScript - Bloquear edi√ß√£o
const response = await fetch("https://zapclass.com.br/api/group/updateLocked", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
  },
  body: JSON.stringify({
    groupjid: "120363308883996631@g.us",
    locked: true,
  }),
});

const data = await response.json();
if (data.success) {
  console.log("Edi√ß√£o de informa√ß√µes bloqueada - apenas admins podem editar");
}
```

```javascript JavaScript - Alternar bloqueio
async function toggleGroupLock(groupJid) {
  // Busca estado atual
  const infoResponse = await fetch("https://zapclass.com.br/api/group/info", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
    },
    body: JSON.stringify({ groupjid: groupJid }),
  });

  const groupInfo = await infoResponse.json();

  if (!groupInfo.success) {
    throw new Error(groupInfo.message);
  }

  const currentLocked = groupInfo.group.restrict || false;
  const newLocked = !currentLocked;

  console.log(
    `Estado atual: ${
      currentLocked ? "Bloqueado (apenas admins)" : "Desbloqueado (todos)"
    }`
  );
  console.log(
    `Alterando para: ${
      newLocked ? "Bloqueado (apenas admins)" : "Desbloqueado (todos)"
    }`
  );

  // Alterna o bloqueio
  const updateResponse = await fetch(
    "https://zapclass.com.br/api/group/updateLocked",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({
        groupjid: groupJid,
        locked: newLocked,
      }),
    }
  );

  const result = await updateResponse.json();

  if (result.success) {
    console.log("‚úì Configura√ß√£o alterada com sucesso");
  }

  return result;
}

// Uso
await toggleGroupLock("120363308883996631@g.us");
```

```javascript JavaScript - Configurar com notifica√ß√£o
async function setGroupLockWithNotification(
  groupJid,
  locked,
  notifyMembers = false
) {
  const response = await fetch(
    "https://zapclass.com.br/api/group/updateLocked",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({ groupjid: groupJid, locked }),
    }
  );

  const data = await response.json();

  if (!data.success) {
    throw new Error(data.message);
  }

  console.log("‚úì Configura√ß√£o atualizada");

  if (notifyMembers) {
    // Envia mensagem no grupo informando a mudan√ßa
    const message = locked
      ? "üîí *Configura√ß√£o Atualizada*\n\nApenas administradores podem editar as informa√ß√µes do grupo (nome, descri√ß√£o, imagem) a partir de agora."
      : "üîì *Configura√ß√£o Atualizada*\n\nTodos os participantes podem editar livremente as informa√ß√µes do grupo.";

    await fetch("https://zapclass.com.br/api/send/text", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({
        number: groupJid.replace("@g.us", ""),
        message: message,
      }),
    });

    console.log("‚úì Notifica√ß√£o enviada ao grupo");
  }

  return data;
}

// Uso - bloquear edi√ß√£o e notificar
await setGroupLockWithNotification("120363308883996631@g.us", true, true);
```

```javascript JavaScript - Aplicar pol√≠tica em m√∫ltiplos grupos
async function applyLockPolicyToGroups(groupJids, locked) {
  const results = [];

  for (const groupJid of groupJids) {
    try {
      const response = await fetch(
        "https://zapclass.com.br/api/group/updateLocked",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
          },
          body: JSON.stringify({ groupjid: groupJid, locked }),
        }
      );

      const data = await response.json();

      results.push({
        groupJid,
        success: data.success,
        message: data.message,
      });

      // Aguarda 1 segundo entre opera√ß√µes
      await new Promise((resolve) => setTimeout(resolve, 1000));
    } catch (error) {
      results.push({
        groupJid,
        success: false,
        message: error.message,
      });
    }
  }

  return results;
}

// Uso - bloquear edi√ß√£o em todos os grupos corporativos
const corporateGroups = [
  "120363308883996631@g.us",
  "120363308883996632@g.us",
  "120363308883996633@g.us",
];

const results = await applyLockPolicyToGroups(corporateGroups, true);

console.log("=== RESULTADOS DA POL√çTICA ===");
results.forEach((result) => {
  const status = result.success ? "‚úì" : "‚úó";
  console.log(`${status} ${result.groupJid}`);
});
```

```javascript JavaScript - Configura√ß√£o completa de grupo
async function setupCorporateGroup(groupJid) {
  console.log("Configurando grupo corporativo...\n");

  try {
    // 1. Bloquear edi√ß√£o de informa√ß√µes
    await fetch("https://zapclass.com.br/api/group/updateLocked", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({ groupjid: groupJid, locked: true }),
    });
    console.log("‚úì Edi√ß√£o bloqueada (apenas admins)");

    // 2. Ativar modo an√∫ncio
    await fetch("https://zapclass.com.br/api/group/updateAnnounce", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({ groupjid: groupJid, announce: true }),
    });
    console.log("‚úì Modo an√∫ncio ativado");

    // 3. Atualizar descri√ß√£o
    const description =
      "üìã GRUPO CORPORATIVO\n\n" +
      "Este √© um grupo oficial da empresa.\n" +
      "Apenas administradores podem editar informa√ß√µes e enviar mensagens.\n\n" +
      "Para d√∫vidas, entre em contato com os administradores.";

    await fetch("https://zapclass.com.br/api/group/updateDescription", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: "Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP",
      },
      body: JSON.stringify({ groupjid: groupJid, description }),
    });
    console.log("‚úì Descri√ß√£o atualizada");

    console.log("\n‚úì Grupo configurado como corporativo com sucesso!");
  } catch (error) {
    console.error("‚úó Erro na configura√ß√£o:", error.message);
  }
}

// Uso
await setupCorporateGroup("120363308883996631@g.us");
```

```php PHP - Bloquear edi√ß√£o
<?php
$ch = curl_init('https://zapclass.com.br/api/group/updateLocked');

$payload = [
    "groupjid" => "120363308883996631@g.us",
    "locked" => true
];

curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Content-Type: application/json',
    'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
$data = json_decode($response, true);

if ($data['success']) {
    echo "Edi√ß√£o bloqueada - apenas admins podem editar informa√ß√µes\n";
} else {
    echo "Erro: " . $data['message'];
}

curl_close($ch);
?>
```

```php PHP - Alternar bloqueio
<?php
function toggleGroupLock($groupJid) {
    // Busca estado atual
    $ch = curl_init('https://zapclass.com.br/api/group/info');

    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
        'groupjid' => $groupJid
    ]));
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'Content-Type: application/json',
        'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
    ]);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

    $response = curl_exec($ch);
    $groupInfo = json_decode($response, true);
    curl_close($ch);

    if (!$groupInfo['success']) {
        throw new Exception($groupInfo['message']);
    }

    $currentLocked = $groupInfo['group']['restrict'] ?? false;
    $newLocked = !$currentLocked;

    echo "Estado atual: " . ($currentLocked ? 'Bloqueado' : 'Desbloqueado') . "\n";
    echo "Alterando para: " . ($newLocked ? 'Bloqueado' : 'Desbloqueado') . "\n";

    // Alterna o bloqueio
    $ch = curl_init('https://zapclass.com.br/api/group/updateLocked');

    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
        'groupjid' => $groupJid,
        'locked' => $newLocked
    ]));
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'Content-Type: application/json',
        'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
    ]);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

    $response = curl_exec($ch);
    $result = json_decode($response, true);
    curl_close($ch);

    if ($result['success']) {
        echo "‚úì Configura√ß√£o alterada com sucesso\n";
    } else {
        echo "‚úó Erro: {$result['message']}\n";
    }

    return $result;
}

// Uso
try {
    toggleGroupLock("120363308883996631@g.us");
} catch (Exception $e) {
    echo "Erro: " . $e->getMessage();
}
?>
```

```php PHP - Aplicar pol√≠tica em m√∫ltiplos grupos
<?php
function applyLockPolicyToGroups($groupJids, $locked) {
    $results = [];

    foreach ($groupJids as $groupJid) {
        $ch = curl_init('https://zapclass.com.br/api/group/updateLocked');

        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
            'groupjid' => $groupJid,
            'locked' => $locked
        ]));
        curl_setopt($ch, CURLOPT_HTTPHEADER, [
            'Content-Type: application/json',
            'Authorization: Bearer zc_6FrX2qjM4bHT9pR6cC0sD8wLkG3nE2tZfV5uN1aP'
        ]);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

        $response = curl_exec($ch);
        $data = json_decode($response, true);
        curl_close($ch);

        $results[] = [
            'groupJid' => $groupJid,
            'success' => $data['success'],
            'message' => $data['message'] ?? null
        ];

        // Aguarda 1 segundo entre opera√ß√µes
        sleep(1);
    }

    return $results;
}

// Uso - bloquear edi√ß√£o em todos os grupos corporativos
$corporateGroups = [
    "120363308883996631@g.us",
    "120363308883996632@g.us",
    "120363308883996633@g.us"
];

$results = applyLockPolicyToGroups($corporateGroups, true);

echo "=== RESULTADOS DA POL√çTICA ===\n\n";
foreach ($results as $result) {
    $status = $result['success'] ? '‚úì' : '‚úó';
    echo "{$status} {$result['groupJid']}\n";
    if (!$result['success']) {
        echo "  Erro: {$result['message']}\n";
    }
}
?>
```

```php PHP - Classe gerenciadora completa
<?php
class GroupLockManager {
    private $token;
    private $baseUrl = 'https://zapclass.com.br/api';

    public function __construct($token) {
        $this->token = $token;
    }

    private function makeRequest($endpoint, $payload) {
        $ch = curl_init($this->baseUrl . $endpoint);

        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
        curl_setopt($ch, CURLOPT_HTTPHEADER, [
            'Content-Type: application/json',
            "Token: {$this->token}"
        ]);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

        $response = curl_exec($ch);
        curl_close($ch);

        return json_decode($response, true);
    }

    public function getGroupInfo($groupJid) {
        return $this->makeRequest('/group/info', [
            'groupjid' => $groupJid
        ]);
    }

    public function setLocked($groupJid, $locked) {
        $data = $this->makeRequest('/group/updateLocked', [
            'groupjid' => $groupJid,
            'locked' => $locked
        ]);

        if (!$data['success']) {
            throw new Exception($data['message']);
        }

        return $data;
    }

    public function lock($groupJid) {
        return $this->setLocked($groupJid, true);
    }

    public function unlock($groupJid) {
        return $this->setLocked($groupJid, false);
    }

    public function toggle($groupJid) {
        $info = $this->getGroupInfo($groupJid);

        if (!$info['success']) {
            throw new Exception($info['message']);
        }

        $currentLocked = $info['group']['restrict'] ?? false;
        $newLocked = !$currentLocked;

        return $this->setLocked($groupJid, $newLocked);
    }

    public function applyToMultiple($groupJids, $locked, $delay = 1) {
        $results = [];

        foreach ($groupJids as $groupJid) {
            try {
                $this->setLocked($groupJid, $locked);
                $results[$groupJid] = [
                    'success' => true,
                    'locked' => $locked
                ];
            } catch (Exception $e) {
                $results[$groupJid] = [
                    'success' => false,
                    'error' => $e->getMessage()
                ];
            }

            if ($delay > 0) {
                sleep($delay);
            }
        }

        return $results;
    }

    public function getCurrentState($groupJid) {
        $info = $this->getGroupInfo($groupJid);

        if (!$info['success']) {
            throw new Exception($info['message']);
        }

        $locked = $info['group']['restrict'] ?? false;

        return [
            'groupName' => $info['group']['name'],
            'locked' => $locked,
            'description' => $locked
                ? 'Apenas administradores podem editar informa√ß√µes'
                : 'Todos os participantes podem editar informa√ß√µes'
        ];
    }

    public function setupCorporateGroup($groupJid) {
        // Bloqueia edi√ß√£o
        $this->lock($groupJid);

        // Ativa modo an√∫ncio
        $this->makeRequest('/group/updateAnnounce', [
            'groupjid' => $groupJid,
            'announce' => true
        ]);

        // Atualiza descri√ß√£o
        $description = "üìã GRUPO CORPORATIVO\n\n" .
                      "Este √© um grupo oficial da empresa.\n" .
                      "Apenas administradores podem editar informa√ß√µes e enviar mensagens.";

        $this->makeRequest('/group/updateDescription', [
            'groupjid' => $groupJid,
            'description' => $description
        ]);

        return [
            'locked' => true,
            'announce' => true,
            'configured' => true
        ];
    }
}

// Uso
$manager = new GroupLockManager('zt_BppKZWtzvj1X2SbJAuOSkA0Z63uDBQ0wkb28NJaloKeOUnHk');

try {
    // Verificar estado atual
    $state = $manager->getCurrentState("120363308883996631@g.us");
    echo "Grupo: {$state['groupName']}\n";
    echo "Estado: {$state['description']}\n\n";

    // Bloquear edi√ß√£o
    $manager->lock("120363308883996631@g.us");
    echo "‚úì Edi√ß√£o bloqueada\n\n";

    // Alternar bloqueio
    $manager->toggle("120363308883996631@g.us");
    echo "‚úì Bloqueio alternado\n\n";

    // Aplicar pol√≠tica a m√∫ltiplos grupos
    $groups = [
        "120363308883996631@g.us",
        "120363308883996632@g.us"
    ];

    $results = $manager->applyToMultiple($groups, true);

    echo "=== RESULTADOS ===\n";
    foreach ($results as $groupJid => $result) {
        if ($result['success']) {
            echo "‚úì {$groupJid} - Bloqueado\n";
        } else {
            echo "‚úó {$groupJid} - {$result['error']}\n";
        }
    }

    // Configurar grupo corporativo completo
    echo "\n";
    $manager->setupCorporateGroup("120363308883996631@g.us");
    echo "‚úì Grupo configurado como corporativo\n";
} catch (Exception $e) {
    echo "Erro: " . $e->getMessage();
}
?>
```

</RequestExample>

<ResponseExample>

```json 200 - Edi√ß√£o bloqueada
{
  "success": true,
  "message": "Group edit permissions locked successfully",
  "groupJid": "120363308883996631@g.us",
  "locked": true
}
```

```json 200 - Edi√ß√£o desbloqueada
{
  "success": true,
  "message": "Group edit permissions unlocked successfully",
  "groupJid": "120363308883996631@g.us",
  "locked": false
}
```

```json 400 - Par√¢metro inv√°lido
{
  "success": false,
  "message": "O par√¢metro 'locked' deve ser um booleano (true ou false)"
}
```

```json 403 - Sem permiss√£o de admin
{
  "success": false,
  "message": "Voc√™ precisa ser administrador do grupo para alterar permiss√µes de edi√ß√£o"
}
```

```json 404 - Grupo n√£o encontrado
{
  "success": false,
  "message": "Grupo n√£o encontrado ou voc√™ n√£o √© membro"
}
```

```json 500 - Erro no servidor
{
  "success": false,
  "message": "Erro ao atualizar permiss√µes do grupo. Tente novamente"
}
```

</ResponseExample>
